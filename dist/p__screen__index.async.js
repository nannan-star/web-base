"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[708],{33676:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var i=t(25298),r=t.n(i),s=t(17069),c=t.n(s),a=t(82092),o=t.n(a),l=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),o()(this,"designWidth",void 0),o()(this,"designHeight",void 0),o()(this,"minScale",void 0),o()(this,"maxScale",void 0),o()(this,"container",null),this.designWidth=n.designWidth||1920,this.designHeight=n.designHeight||1080,this.minScale=n.minScale||.9,this.maxScale=n.maxScale||2}return c()(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".screen-container";if(this.container=document.querySelector(e),!this.container){var n=document.querySelectorAll('[class*="screen-container"]');n.length>0&&(this.container=n[0])}this.container||(this.container=document.querySelector("[data-screen-container]")),this.container&&(this.updateScale(),window.addEventListener("resize",this.handleResize.bind(this)))}},{key:"calculateScale",value:function(){var e,n=window.innerWidth,t=window.innerHeight;return e=n/t>this.designWidth/this.designHeight?t/this.designHeight:n/this.designWidth,Math.max(this.minScale,Math.min(this.maxScale,e))}},{key:"updateScale",value:function(){if(this.container){var e=this.calculateScale();this.container.style.transform="scale(".concat(e,")"),this.container.style.width="".concat(this.designWidth,"px"),this.container.style.height="".concat(this.designHeight,"px")}}},{key:"handleResize",value:function(){this.updateScale()}},{key:"destroy",value:function(){window.removeEventListener("resize",this.handleResize.bind(this)),this.container=null}},{key:"getCurrentScale",value:function(){return this.calculateScale()}},{key:"getScreenInfo",value:function(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowRatio:window.innerWidth/window.innerHeight,designRatio:this.designWidth/this.designHeight,scale:this.calculateScale()}}}]),e}();var d=t(75271),u={"screen-root":"screen-root___XSAOu","screen-container":"screen-container___YE5Vg","screen-header":"screen-header___iNBM0","screen-title":"screen-title___znu78","screen-footer":"screen-footer___m4mnt","screen-main":"screen-main___dDt9a","screen-left":"screen-left___uD88u","screen-right":"screen-right___GWV2_","screen-center":"screen-center___PtM_a","screen-center-top":"screen-center-top___ct7PL","map-box":"map-box___O6SE5","card-box":"card-box___cGNiG","card-title":"card-title___NmzXl","industry-proportion":"industry-proportion___sI9wB"},h=t(52676);function f(){return(0,h.jsx)("div",{className:u["screen-footer"]})}function v(){return(0,h.jsx)("div",{className:u["screen-header"],children:(0,h.jsx)("div",{className:u["screen-title"],children:(0,h.jsx)("span",{children:"高精度位置服务监测系统"})})})}var m=t(31759),x=t.n(m),g=t(90228),b=t.n(g),p=t(87999),j=t.n(p),y=t(48305),w=t.n(y),_=t(9732),S=t(60126);function N(){var e=(0,d.useRef)(null),n=(0,d.useRef)(null),t=(0,d.useState)({}),i=w()(t,2),r=i[0],s=i[1],c=(0,d.useRef)(null),a=function(){var e=j()(b()().mark((function e(){return b()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({1:100,2:200,3:300,4:400,5:500});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){return a(),c.current=setInterval(a,1e4),function(){c.current&&clearInterval(c.current)}}),[]),(0,d.useEffect)((function(){n.current=_.S1(e.current),function(e,n){var t={grid:{top:35,left:20,right:20,bottom:10,containLabel:!0},toolbox:{show:!0},calculable:!0,xAxis:[{type:"category",axisLine:{show:!0,lineStyle:{type:"solid",color:"#2a3853",width:2}},axisTick:{show:!1},data:Object.keys(n),axisLabel:{color:"rgba(255,255,255,.65)",fontSize:(0,S.Z)(12)}}],yAxis:[{min:0,type:"value",splitLine:{show:!1,lineStyle:{type:"dashed",color:"rgba(208,222,238,0.20)",width:1}},nameTextStyle:{color:"rgba(216,240,255,0.6)",fontSize:10},axisLabel:{formatter:"{value}",color:"rgba(216,240,255,0.6)",fontSize:10}}],series:[{tooltip:{show:!1},type:"bar",barWidth:10,itemStyle:{color:new _.Q.o(0,1,0,0,[{offset:0,color:"rgba(0,88,255,0.2)"},{offset:1,color:"rgba(0,147,221,1)"}],!1)},data:Object.values(n),barGap:0},{type:"bar",barWidth:10,itemStyle:{color:new _.Q.o(0,1,0,0,[{offset:0,color:"rgba(1,56,222,0.2)"},{offset:1,color:"rgba(0,107,188,1)"}],!1)},barGap:0,data:Object.values(n),label:{show:!0,position:[-10,-22],color:"#fff",fontSize:(0,S.Z)(14),fontFamily:"YouSheBiaoTiHei"}},{type:"pictorialBar",symbol:"diamond",symbolSize:[21,12],symbolOffset:[0,-6],symbolPosition:"end",zlevel:2,itemStyle:{color:"#2D9AE9"},data:Object.values(n)}]};t&&"object"===x()(t)&&e.setOption(t)}(n.current,r);var t=function(){var e;null===(e=n.current)||void 0===e||e.resize()};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),n.current&&n.current.dispose()}}),[]),(0,d.useEffect)((function(){0!==Object.keys(r).length&&n.current&&function(e,n){var t={xAxis:[{data:Object.keys(n)}],series:[{data:Object.values(n)},{data:Object.values(n)},{data:Object.values(n)}]};e.setOption(t,{notMerge:!1,lazyUpdate:!0,silent:!1})}(n.current,r)}),[r]),(0,h.jsx)("div",{ref:e,className:u["industry-proportion"]})}var k=t(1476),z=t.n(k);t(49885);function W(){var e=(0,d.useRef)(null);return(0,d.useEffect)((function(){!function(){z().accessToken="pk.eyJ1IjoiY2hjbmF2LXJkIiwiYSI6ImNtYm96dnliNDF5dXYya3F4dmFjOGlmYmsifQ.nx6U8lOX0n8yUEqOgyRBgg";var n=new(z().Map)({container:e.current,style:"mapbox://styles/mapbox/streets-v12",projection:"globe",zoom:1.5,center:[30,15]});n.addControl(new(z().NavigationControl)),n.scrollZoom.disable(),n.on("style.load",(function(){n.setFog({})}));var t=!1;function i(){var e=n.getZoom();if(!t&&e<5){var i=1.5;e>3&&(i*=(5-e)/2);var r=n.getCenter();r.lng-=i,n.easeTo({center:r,duration:1e3,easing:function(e){return e}})}}n.on("mousedown",(function(){t=!0})),n.on("dragstart",(function(){t=!0})),n.on("moveend",(function(){i()})),i()}()}),[]),(0,h.jsx)("div",{ref:e,className:u["map-box"]})}function O(){var e=(0,d.useRef)(null);return(0,d.useEffect)((function(){var n;return e.current=((n=new l({designWidth:1920,designHeight:1080,minScale:.8,maxScale:2})).init(),n),function(){e.current&&e.current.destroy()}}),[]),(0,h.jsxs)("div",{className:u["screen-root"],children:[(0,h.jsx)(v,{}),(0,h.jsxs)("div",{className:u["screen-main"],children:[(0,h.jsxs)("div",{className:u["screen-left"],children:[(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]}),(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]}),(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]})]}),(0,h.jsxs)("div",{className:u["screen-center"],children:[(0,h.jsxs)("div",{className:u["screen-center-top"],children:[(0,h.jsx)("div",{className:u["screen-center-top-left"],children:(0,h.jsxs)("div",{className:u["screen-center-top-left-title"],children:[(0,h.jsx)("span",{children:"统计数据"}),(0,h.jsx)("span",{children:"统计数据"})]})}),(0,h.jsx)("div",{className:u["screen-center-top-right"],children:(0,h.jsxs)("div",{className:u["screen-center-top-right-title"],children:[(0,h.jsx)("span",{children:"统计数据"}),(0,h.jsx)("span",{children:"统计数据"})]})})]}),(0,h.jsx)(W,{})]}),(0,h.jsxs)("div",{className:u["screen-right"],children:[(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]}),(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]}),(0,h.jsxs)("div",{className:u["card-box"],children:[(0,h.jsx)("div",{className:u["card-title"],children:"行业占比"}),(0,h.jsx)(N,{})]})]})]}),(0,h.jsx)(f,{})]})}},60126:function(e,n,t){t.d(n,{Z:function(){return i}});var i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1920,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!t)return e;var i=t/n;return Number((e*i).toFixed(3))}}}]);