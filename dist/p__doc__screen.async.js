"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[784],{66118:function(e,n,i){i.d(n,{Z:function(){return l}});var t=i(58709),s=i(75271),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},c=i(23738),o=function(e,n){return s.createElement(c.Z,(0,t.Z)({},e,{ref:n,icon:r}))};var l=s.forwardRef(o)},2590:function(e,n,i){i.d(n,{Z:function(){return l}});var t=i(58709),s=i(75271),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},c=i(23738),o=function(e,n){return s.createElement(c.Z,(0,t.Z)({},e,{ref:n,icon:r}))};var l=s.forwardRef(o)},27747:function(e,n,i){i.r(n),i.d(n,{default:function(){return T}});var t=i(35223),s=i(30426),r=i(58709),c=i(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},l=i(23738),a=function(e,n){return c.createElement(l.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var d=c.forwardRef(a),x=i(2590),h=i(66118),p=i(85791),u=i(52089),g=i(29090),m=i(1413),f=i(62410),j=i(62130),v=i(42746),y=i(52413),w=i(2167),k=i(52676),b=y.ZP.h2.withConfig({componentId:"sc-tk9w6k-0"})(["span{margin-right:8px;color:#1890ff;}"]),Z=(0,y.ZP)(p.Z).withConfig({componentId:"sc-tk9w6k-1"})(["margin-bottom:24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:all 0.3s ease;&:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.15);}.ant-card-head{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:white;border-radius:12px 12px 0 0;.ant-card-head-title{color:white;font-weight:600;}}"]),S=y.ZP.div.withConfig({componentId:"sc-tk9w6k-2"})(["background:#2d3748;border-radius:8px;margin:16px 0;overflow:hidden;border-left:4px solid #3498db;"]),C=y.ZP.div.withConfig({componentId:"sc-tk9w6k-3"})(["background:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:16px;margin:16px 0;strong{color:#856404;}"]),_=y.ZP.div.withConfig({componentId:"sc-tk9w6k-4"})(["display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0;@media (max-width:768px){grid-template-columns:1fr;}"]),P=(0,y.ZP)(p.Z).withConfig({componentId:"sc-tk9w6k-5"})(["background:#d4edda;border:1px solid #c3e6cb;border-radius:8px;.ant-card-head{background:#28a745;color:white;border-radius:8px 8px 0 0;.ant-card-head-title{color:white;}}"]),z=(0,y.ZP)(p.Z).withConfig({componentId:"sc-tk9w6k-6"})(["background:#f8d7da;border:1px solid #f5c6cb;border-radius:8px;.ant-card-head{background:#dc3545;color:white;border-radius:8px 8px 0 0;.ant-card-head-title{color:white;}}"]),I=y.ZP.div.withConfig({componentId:"sc-tk9w6k-7"})(["background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:24px;border-radius:12px;margin:24px 0;text-align:center;h3{margin-bottom:12px;font-size:18px;}"]);function T(){var e=(0,c.useRef)(null),n={fontSize:"14px",borderRadius:"6px",margin:"0"};return(0,k.jsxs)("div",{className:w.Z.i18nContainer,ref:e,children:[(0,k.jsxs)("div",{className:w.Z.header,children:[(0,k.jsx)("h1",{className:w.Z.title,children:"px 转 vw/vh 方案对比"}),(0,k.jsx)(u.ZP,{type:"primary",icon:(0,k.jsx)(s.Z,{}),onClick:function(){(0,t.zD)(e,{filename:"px-to-vw-comparison.png",customMessages:{loading:"正在生成大屏适配方案对比截图...",success:"大屏适配方案对比截图已保存",error:"截图生成失败，请检查是否包含跨域资源"}})},className:w.Z.downloadButton,children:"保存为图片"})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(d,{}),(0,k.jsx)("span",{children:"概述"})]}),(0,k.jsx)("p",{className:w.Z.paragraph,children:"在响应式开发中，将 px 单位转换为 vw/vh 单位是常见的适配方案。本文档对比两种实现方式：手写 Sass 函数和 PostCSS 插件，特别针对大屏项目的实际应用场景。"})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(x.Z,{}),(0,k.jsx)("span",{children:"两种方案对比"})]}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"1. 手写 Sass 函数方式"}),(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"scss",style:v.Z,customStyle:n,children:"@use 'sass:math';\n\n// 默认设计稿的宽度\n$designWidth: 1920;\n// 默认设计稿的高度\n$designHeight: 1080;\n\n// px 转为 vw 的函数\n@function vw($px) {\n  @return math.div($px, $designWidth) * 100vw;\n}\n\n// px 转为 vh 的函数\n@function vh($px) {\n  @return math.div($px, $designHeight) * 100vh;\n}"})}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"2. PostCSS 插件方式"}),(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"javascript",style:v.Z,customStyle:n,children:"module.exports = {\n  plugins: {\n    'postcss-px-to-viewport': {\n      viewportWidth: 1920,\n      unitToConvert: 'px',\n      unitPrecision: 5,\n      propList: ['*'],\n      viewportUnit: 'vw',\n      fontViewportUnit: 'vw',\n      selectorBlackList: [],\n      minPixelValue: 1,\n      mediaQuery: false,\n      replace: true,\n      exclude: [],\n      landscape: false,\n    },\n  },\n};"})})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(x.Z,{}),(0,k.jsx)("span",{children:"核心差异分析"})]}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"1. 转换时机"}),(0,k.jsx)(g.Z,{dataSource:[{key:"1",solution:"手写函数",timing:"SCSS 编译时",stage:"构建过程早期"},{key:"2",solution:"PostCSS 插件",timing:"PostCSS 处理时",stage:"构建过程后期"}],columns:[{title:"方案",dataIndex:"solution",key:"solution"},{title:"转换时机",dataIndex:"timing",key:"timing"},{title:"处理阶段",dataIndex:"stage",key:"stage"}],pagination:!1,size:"small",style:{marginBottom:24}}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"2. 使用方式对比"}),(0,k.jsx)(g.Z,{dataSource:[{key:"1",solution:"手写函数",simplicity:"需要手动调用",precision:"精确控制",learningCost:"中等"},{key:"2",solution:"PostCSS 插件",simplicity:"自动转换",precision:"全局规则",learningCost:"低"}],columns:[{title:"方案",dataIndex:"solution",key:"solution"},{title:"代码简洁度",dataIndex:"simplicity",key:"simplicity"},{title:"控制精度",dataIndex:"precision",key:"precision"},{title:"学习成本",dataIndex:"learningCost",key:"learningCost"}],pagination:!1,size:"small",style:{marginBottom:24}})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(d,{}),(0,k.jsx)("span",{children:"大屏项目适配问题"})]}),(0,k.jsxs)(C,{children:[(0,k.jsx)("strong",{children:"问题描述："}),"在非 16:9 屏幕比例下，PostCSS 插件方式容易出现内容显示不全、底部出现空白、需要滚动条等问题。"]}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"问题根源"}),(0,k.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:24},children:[(0,k.jsx)(Z,{title:"手写函数：完美适配",children:(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"scss",style:v.Z,customStyle:n,children:".screen-content {\n  height: vh(988); // 988/1080 = 91.48% 的屏幕高度\n}"})})}),(0,k.jsx)(Z,{title:"PostCSS插件：可能有问题",children:(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"scss",style:v.Z,customStyle:n,children:".screen-content {\n  height: 988px; // 固定988px，在不同屏幕上比例不同\n}"})})})]}),(0,k.jsx)("h3",{style:{fontSize:"20px",color:"#34495e",margin:"24px 0 16px 0"},children:"实际效果对比"}),(0,k.jsx)(g.Z,{dataSource:[{key:"1",scenario:"16:10 屏幕\n(1920×1200)",solution:"手写函数",width:"100vw (1920px)",height:"100vh (1200px)",effect:"完美适配，无空白"},{key:"2",scenario:"16:10 屏幕\n(1920×1200)",solution:"PostCSS 插件",width:"100vw (1920px)",height:"988px (固定)",effect:"底部 212px 空白"},{key:"3",scenario:"较小屏幕\n(1366×768)",solution:"手写函数",width:"100vw (1366px)",height:"100vh (768px)",effect:"按比例缩放"},{key:"4",scenario:"较小屏幕\n(1366×768)",solution:"PostCSS 插件",width:"100vw (1366px)",height:"988px (固定)",effect:"高度超出，需要滚动"}],columns:[{title:"场景",dataIndex:"scenario",key:"scenario"},{title:"方案",dataIndex:"solution",key:"solution"},{title:"宽度",dataIndex:"width",key:"width"},{title:"高度",dataIndex:"height",key:"height"},{title:"效果",dataIndex:"effect",key:"effect"}],pagination:!1,size:"small",style:{marginBottom:24}})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(x.Z,{}),(0,k.jsx)("span",{children:"解决方案对比"})]}),(0,k.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:24},children:[(0,k.jsxs)(Z,{title:"手写函数方式（推荐）",children:[(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"scss",style:v.Z,customStyle:n,children:".screen-container {\n  width: 100vw;\n  height: 100vh;\n  background: url('bg.png') no-repeat center center;\n  background-size: 100% 100%;\n}\n\n.screen-left {\n  width: vw(443);\n  height: vh(326);\n}"})}),(0,k.jsx)(P,{title:"✅ 优势",size:"small",children:(0,k.jsxs)("ul",{style:{margin:0,paddingLeft:20},children:[(0,k.jsx)("li",{children:"完美适配任何屏幕比例"}),(0,k.jsx)("li",{children:"背景图自适应"}),(0,k.jsx)("li",{children:"内容始终在可视区域内"}),(0,k.jsx)("li",{children:"避免滚动条和空白"})]})})]}),(0,k.jsxs)(Z,{title:"PostCSS 插件优化",children:[(0,k.jsx)(S,{children:(0,k.jsx)(j.Z,{language:"javascript",style:v.Z,customStyle:n,children:"module.exports = {\n  plugins: {\n    'postcss-px-to-viewport': {\n      viewportWidth: 1920,\n      viewportHeight: 1080,\n      unitToConvert: 'px',\n      propList: ['*'],\n      viewportUnit: 'vw',\n      landscape: false,\n    },\n  },\n};"})}),(0,k.jsx)(z,{title:"❌ 限制",size:"small",children:(0,k.jsxs)("ul",{style:{margin:0,paddingLeft:20},children:[(0,k.jsx)("li",{children:"配置复杂"}),(0,k.jsx)("li",{children:"可能产生意外转换"}),(0,k.jsx)("li",{children:"调试困难"})]})})]})]})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(d,{}),(0,k.jsx)("span",{children:"性能考虑"})]}),(0,k.jsx)(g.Z,{dataSource:[{key:"1",solution:"手写函数",compileTime:"快",buildComplexity:"简单",debugConvenience:"好",cssVolume:"较小",runtimePerformance:"无计算开销"},{key:"2",solution:"PostCSS 插件",compileTime:"中等",buildComplexity:"复杂",debugConvenience:"中等",cssVolume:"较小",runtimePerformance:"无计算开销"}],columns:[{title:"方案",dataIndex:"solution",key:"solution"},{title:"编译时间",dataIndex:"compileTime",key:"compileTime"},{title:"构建复杂度",dataIndex:"buildComplexity",key:"buildComplexity"},{title:"调试便利性",dataIndex:"debugConvenience",key:"debugConvenience"},{title:"CSS 体积",dataIndex:"cssVolume",key:"cssVolume"},{title:"运行时性能",dataIndex:"runtimePerformance",key:"runtimePerformance"}],pagination:!1,size:"small",style:{marginBottom:24}})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(d,{}),(0,k.jsx)("span",{children:"适用场景"})]}),(0,k.jsxs)(_,{children:[(0,k.jsx)(P,{title:"手写函数方式适合",size:"small",children:(0,k.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,k.jsx)(f.Z,{color:"success",children:"大屏项目"}),(0,k.jsx)(f.Z,{color:"success",children:"可视化项目"}),(0,k.jsx)(f.Z,{color:"success",children:"需要精确控制的项目"}),(0,k.jsx)(f.Z,{color:"success",children:"团队熟悉 Sass 的项目"}),(0,k.jsx)(f.Z,{color:"success",children:"需要自定义转换逻辑的项目"})]})}),(0,k.jsx)(P,{title:"PostCSS 插件适合",size:"small",children:(0,k.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,k.jsx)(f.Z,{color:"blue",children:"通用 Web 项目"}),(0,k.jsx)(f.Z,{color:"blue",children:"希望减少手动工作的项目"}),(0,k.jsx)(f.Z,{color:"blue",children:"团队更倾向于自动化工具的项目"}),(0,k.jsx)(f.Z,{color:"blue",children:"标准响应式布局项目"})]})})]})]}),(0,k.jsxs)(I,{children:[(0,k.jsx)("h3",{children:"🎯 最佳实践建议"}),(0,k.jsxs)("p",{children:[(0,k.jsx)("strong",{children:"大屏项目推荐使用手写函数方式"}),"，确保完美适配任何屏幕比例，避免空白和滚动条问题。"]})]}),(0,k.jsxs)("div",{className:w.Z.section,children:[(0,k.jsxs)(b,{children:[(0,k.jsx)(h.Z,{}),(0,k.jsx)("span",{children:"总结"})]}),(0,k.jsx)("p",{className:w.Z.paragraph,children:"对于大屏项目，手写 Sass 函数方式在以下方面优于 PostCSS 插件："}),(0,k.jsxs)("ul",{style:{marginBottom:16,paddingLeft:20},children:[(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:"完美适配"}),"：支持任何屏幕比例，无空白和滚动条"]}),(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:"精确控制"}),"：可以分别控制宽度和高度的转换"]}),(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:"背景适配"}),"：配合 ",(0,k.jsx)("code",{children:"background-size: 100% 100%"})," 完美适配"]}),(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:"维护性"}),"：逻辑清晰，易于理解和调试"]}),(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:"性能"}),"：编译时计算，运行时无额外开销"]})]}),(0,k.jsxs)("p",{className:w.Z.paragraph,children:["因此，",(0,k.jsx)("strong",{children:"大屏项目推荐使用手写函数方式"}),"，而通用 Web 项目可以考虑 PostCSS 插件方式。"]})]}),(0,k.jsxs)("div",{style:{background:"#2c3e50",color:"white",padding:"24px",borderRadius:"12px",textAlign:"center",marginTop:"32px"},children:[(0,k.jsx)("h3",{style:{marginBottom:"12px",color:"#3498db"},children:"技术方案对比总结"}),(0,k.jsx)("p",{style:{margin:0},children:"选择合适的技术方案，让大屏项目在不同设备上都能完美展示"})]})]})}},35223:function(e,n,i){i.d(n,{zD:function(){return x}});var t=i(90228),s=i.n(t),r=i(87999),c=i.n(r),o=i(37886),l=i(59928),a=i.n(l),d=function(){var e=c()(s()().mark((function e(n,i){var t,r,c,l,d,x,h,p,u,g,m,f,j,v,y;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return r=(t=i||{}).filename,c=void 0===r?"screenshot.png":r,l=t.scale,d=void 0===l?2:l,x=t.showMessage,h=void 0===x||x,p=t.backgroundColor,u=void 0===p?"#ffffff":p,g=t.customMessages,m=void 0===g?{loading:"正在生成页面截图...",success:"截图已保存",error:"截图生成失败"}:g,f="screenshot-"+Date.now(),e.prev=4,h&&o.yw.loading({content:m.loading,key:f}),e.next=8,a()(n,{allowTaint:!0,useCORS:!0,scale:d,backgroundColor:u,logging:!1,scrollX:0,scrollY:0});case 8:return j=e.sent,v=j.toDataURL("image/png"),(y=document.createElement("a")).href=v,y.download=c,document.body.appendChild(y),y.click(),document.body.removeChild(y),h&&o.yw.success({content:m.success,key:f,duration:2}),e.abrupt("return",v);case 20:return e.prev=20,e.t0=e.catch(4),h&&o.yw.error({content:m.error,key:f,duration:3}),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(n,i){return e.apply(this,arguments)}}(),x=function(){var e=c()(s()().mark((function e(n,i){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.current){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",d(n.current,i));case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},2167:function(e,n){n.Z={i18nContainer:"i18nContainer___qqlje",header:"header___KplCm",title:"title___14Naj",downloadButton:"downloadButton___JP4pS",section:"section___bDmPR",sectionTitle:"sectionTitle___cF0e5",anticon:"anticon___pcaxv",paragraph:"paragraph___X3F5V",card:"card___qx0tp",cardTitle:"cardTitle___bK_46",list:"list___iolyA",configExample:"configExample___oTcF9",tips:"tips___cxZFL",tipsTitle:"tipsTitle___SIJAO",officialLink:"officialLink___fgPY6",linkIcon:"linkIcon___Bmr8k"}}}]);